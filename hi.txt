
auth
 - login
 - register

athlete
 - dashboard.php // empty page
 - coachs.php // show coachs
 - reservation.php // reserve a time

coach
 - dashbaord.php // empty page
 - profile.php // update profile
 - reservation.php // create availability, and manage reservation

-------------------
<?php
/**
 * Point d'entrée principal de l'application
 * Gère le routage simple basé sur les paramètres GET
 */

// Démarrage de la session
session_start();

// Inclusion de la configuration de la base de données
require_once 'config/database.php';

// Inclusion des modèles
require_once 'models/Utilisateur.php';
require_once 'models/Coach.php';
require_once 'models/Sportif.php';
require_once 'models/Seance.php';

// Inclusion des contrôleurs
require_once 'controllers/CoachController.php';
require_once 'controllers/SeanceController.php';
require_once 'controllers/ReservationController.php';
require_once 'controllers/AuthController.php';

// Inclusion des utilitaires
require_once 'utils/Validation.php';

// Récupération des paramètres de routage
$page = isset($_GET['page']) ? $_GET['page'] : 'home';
$action = isset($_GET['action']) ? $_GET['action'] : 'index';
$id = isset($_GET['id']) ? (int)$_GET['id'] : null;

try {
    // Routage simple basé sur la page demandée
    switch ($page) {
        // PAGE D'ACCUEIL
        case 'home':
            include 'views/home.php';
            break;

        // GESTION DES COACHS
        case 'coach':
            $controller = new CoachController($pdo);
            switch ($action) {
                case 'liste':
                    $controller->liste();
                    break;
                case 'detail':
                    $controller->detail($id);
                    break;
                case 'inscription':
                    $controller->inscription();
                    break;
                case 'modifier':
                    $controller->modifier($id);
                    break;
                case 'enregistrer':
                    $controller->enregistrer();
                    break;
                case 'update':
                    $controller->update($id);
                    break;
                default:
                    $controller->liste();
            }
            break;

        // GESTION DES SÉANCES
        case 'seance':
            $controller = new SeanceController($pdo);
            switch ($action) {
                case 'liste':
                    $controller->liste();
                    break;
                case 'mes-seances':
                    $controller->mesSeances();
                    break;
                case 'ajouter':
                    $controller->ajouter();
                    break;
                case 'modifier':
                    $controller->modifier($id);
                    break;
                case 'supprimer':
                    $controller->supprimer($id);
                    break;
                case 'enregistrer':
                    $controller->enregistrer();
                    break;
                case 'update':
                    $controller->update($id);
                    break;
                default:
                    $controller->liste();
            }
            break;

        // GESTION DES RÉSERVATIONS
        case 'reservation':
            $controller = new ReservationController($pdo);
            switch ($action) {
                case 'reserver':
                    $controller->reserver($id);
                    break;
                case 'mes-reservations':
                    $controller->mesReservations();
                    break;
                default:
                    header('Location: index.php?page=seance&action=liste');
            }
            break;

        // GESTION DE L'AUTHENTIFICATION
        case 'auth':
            $controller = new AuthController($pdo);
            switch ($action) {
                case 'login':
                    $controller->login();
                    break;
                case 'connexion':
                    $controller->connexion();
                    break;
                case 'logout':
                    $controller->logout();
                    break;
                default:
                    $controller->login();
            }
            break;

        // PAGE 404
        default:
            http_response_code(404);
            include 'views/404.php';
            break;
    }

} catch (Exception $e) {
    // Gestion des erreurs
    error_log($e->getMessage());
    http_response_code(500);
    echo "<h1>Erreur 500</h1>";
    echo "<p>Une erreur est survenue. Veuillez réessayer plus tard.</p>";
    if ($_SERVER['SERVER_NAME'] === 'localhost') {
        echo "<pre>" . $e->getMessage() . "</pre>";
    }
} // this is my index.php

CREATE TABLE IF NOT EXISTS utilisateurs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    prenom VARCHAR(100) NOT NULL,
    email VARCHAR(150) NOT NULL UNIQUE,
    mot_de_passe VARCHAR(255) NOT NULL,
    role ENUM('coach','sportif') NOT NULL,
    discipline VARCHAR(100),
    experience INT,
    description TEXT
);

-- ========================================
-- Table seances
-- ========================================
CREATE TABLE IF NOT EXISTS seances (
    id INT AUTO_INCREMENT PRIMARY KEY,
    coach_id INT NOT NULL,
    date_seance DATE NOT NULL,
    heure TIME NOT NULL,
    duree INT NOT NULL,
    statut ENUM('disponible','reservee') DEFAULT 'disponible',
    FOREIGN KEY (coach_id) REFERENCES utilisateurs(id) ON DELETE CASCADE
);

-- ========================================
-- Table reservations
-- ========================================
CREATE TABLE IF NOT EXISTS reservations (
    id INT AUTO_INCREMENT PRIMARY KEY,
    seance_id INT NOT NULL,
    sportif_id INT NOT NULL,
    FOREIGN KEY (seance_id) REFERENCES seances(id) ON DELETE CASCADE,
    FOREIGN KEY (sportif_id) REFERENCES utilisateurs(id) ON DELETE CASCADE
); // this are my tables

"coaching-platform/
│
├── index.php                          # Point d'entrée principal
├── config/
│   └── database.php                   # Configuration de la connexion PDO
│
├── models/
│   ├── Utilisateur.php                # Classe de base (héritage)
│   ├── Coach.php                      # Classe Coach (hérite de Utilisateur)
│   ├── Sportif.php                    # Classe Sportif (hérite de Utilisateur)
│   └── Seance.php                     # Classe Séance
│
├── controllers/
│   ├── CoachController.php            # Gestion des coachs (CRUD)
│   ├── SeanceController.php           # Gestion des séances (CRUD)
│   ├── ReservationController.php      # Gestion des réservations
│   └── AuthController.php             # Gestion authentification (login/logout)
│
├── views/
│   ├── layout/
│   │   ├── header.php                 # En-tête commun
│   │   ├── footer.php                 # Pied de page commun
│   │   └── nav.php                    # Menu de navigation
│   │
│   ├── coach/
│   │   ├── liste.php                  # Liste des coachs
│   │   ├── detail.php                 # Détail d'un coach
│   │   ├── inscription.php            # Formulaire d'inscription coach
│   │   └── modifier.php               # Formulaire de modification profil
│   │
│   ├── seance/
│   │   ├── liste.php                  # Liste des séances disponibles
│   │   ├── ajouter.php                # Formulaire ajout séance (coach)
│   │   ├── modifier.php               # Formulaire modification séance
│   │   └── mes-seances.php            # Séances du coach/sportif
│   │
│   ├── auth/
│   │   └── login.php                  # Formulaire de connexion
│   │
│   ├── home.php                       # Page d'accueil
│   └── 404.php                        # Page d'erreur personnalisée
│
├── public/
│   ├── css/
│   │   └── style.css                  # Styles CSS
│   ├── js/
│   │   └── script.js                  # Scripts JavaScript (optionnel)
│   └── images/
│       └── ...                        # Images du site
│
├── utils/
│   ├── Router.php                     # Routeur simple (optionnel)
│   └── Validation.php                 # Fonctions de validation
│
└── database/
    └── schema.sql                     # Script SQL de création des tables" give me  // this is my file structure